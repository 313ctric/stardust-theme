{% extends "page.html" %}
{% import "macros/rooms.html" as rooms %}
{% import "macros/formatters.html" as formatters %}
{% block header %}{% endblock %}
{% block content %}

<div class="card text-body-emphasis" {% if resource.extra.colour -%} style="background-color: {{ formatters::colour(colour=resource.extra.colour) }}80 !important" {%- endif -%}>
  <div class="card-body">
    <h1 class="card-title two-line-clamp">
      {%- if resource.extra.icon %}{{ shortcodes::icon(icon=resource.extra.icon, baseline=true) }} {% endif -%} 
      {{ page.title }}</h1>
    
    {% if resource.taxonomies %}
    {% for tax, terms in resource.taxonomies %}
      {% for term in terms %}
      <a class="badge bg-secondary text-decoration-none ms-1 mb-3" 
        href="{{ config.base_url | safe }}/{{ tax | slugify }}/{{ term | slugify }}"
        aria-label="View all events tagged with {{ term }}"
      >
      {{ term  }} 
      </a>
      {% endfor %}
    {% endfor %}
    {% endif %}

    <h4>
      {{ shortcodes::icon(icon="ph-clock") }}
      {{ formatters::event_date_range(e=resource) }}
    </h4>
    <h4>
      {{ shortcodes::icon(icon="ph-map-pin") }}
      {% if resource.extra.location %}
        {% if resource.extra.location_url %}<a target="_blank" rel="noopener" href="{{ resource.extra.location_url }}" aria-label="Location for {{ resource.title }}">{{ resource.extra.location }}</a>
        {% elif resource.components is containing("archive") %}  {{ resource.extra.location }}
        {% else %} {{ rooms::room_link(name=resource.extra.location) }}
        {% endif %}
      {% endif %}
    </h4>
  </div>
</div>

<div class="m-3">
  {{ resource.content | safe}}
</div>
{% endblock content%}