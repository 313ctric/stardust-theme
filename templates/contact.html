{% extends "base.html" %}

{% import "macros/cards.html" as cards %}

{% block title %}{{ resource.title }}{% endblock title %}
{% block head %}
{{ super() }}
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
<script src="{{ get_url(path="scripts/clickcopy.js", cachebust=true) }}"></script>
{% endblock head %}

{% block content %}

{{ resource.content | safe}}

<table class="table table-striped exec-table">
  <thead>
    <tr>
      <th>Role</th>
      <th>People</th>
      <th>Contact</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <div class="icon baseline"><img src="{{ get_url(path="assets/exec-icons/all.svg") }}"></div>
        <i>Exec</i>
      </td>
      <td><i>All Exec</i></td>
      <td><a target="_blank" rel="noopener" href="mailto:exec@uwcs.co.uk" aria-label="Email all the exec"><i>exec@uwcs.co.uk</i></a></td>
    </tr>
    {% for role in section.pages %}
    <tr>
      <td>
        <div class="icon baseline"><img src="{{ config.base_url | safe }}/assets/exec-icons/{{ role.slug }}.svg"></div>
        {{ role.title }}
      </td>
      <td>
        {{ role.extra.people | join(sep=", ") }}
        {% if role.extra.discords %}
        <br>{{ shortcodes::icon(icon="bi-discord") }}
          {% for dc in role.extra.discords %}
          {% if not loop.first %}, {% endif %}
          <code class="discord c2clip">{{ dc }}</code>
          {% endfor %}
        </span>
        {% endif %}
      </td>
      <td><a target="_blank" rel="noopener" href="mailto:{{ role.extra.email }}" aria-label="Email our {{ role.title }}">{{ role.extra.email }}</a></td>
    </tr>
    {% endfor %}
  </tbody>
</table>

<script>

</script>
<style>
  code.discord {
    cursor: pointer;
  }
</style>

{% endblock content%}
